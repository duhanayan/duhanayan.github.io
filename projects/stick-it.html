<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Stack - Duhan Ayan</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../css/project.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
</head>
<body>
  <header>
    <div class="header-left">
      <h1>Duhan Ayan</h1>
      <h3 data-i18n="profileTitle">Oyun Geliştiricisi</h3>
    </div>
    <div class="social">
      <a href="https://github.com/duhanayan" aria-label="GitHub" target="_blank" rel="noopener noreferrer">
        <i class="social-icon fab fa-github"></i>
      </a>
      <a href="https://www.linkedin.com/in/duhanayan" aria-label="LinkedIn" target="_blank" rel="noopener noreferrer">
        <i class="social-icon fab fa-linkedin"></i>
      </a>
      <a href="/resume.pdf" class="cv-link">
        <span data-i18n="resume">Özgeçmiş</span>
        <i class="fas fa-arrow-down"></i>
      </a>
      <div class="language-select">
        <select aria-label="Dil seçimi">
          <option value="tr">TR</option>
          <option value="en">EN</option>
        </select>
        <span class="select-arrow"><i class="fas fa-chevron-down"></i></span>
      </div>
    </div>
  </header>

  <main class="project-detail">
    <div class="project-header">
      <div class="header-top">
        <a href="../index.html" class="back-button">
          <i class="fas fa-arrow-left"></i>
          <span data-i18n="backToHome">Ana Sayfaya Dön</span>
        </a>
        <h1 class="project-title">Stack</h1>
      </div>
      <div class="project-meta">
        <div class="meta-item">
          <i class="fas fa-users"></i>
          <span data-i18n="teamSize">Takım: 1 Kişi</span>
        </div>
        <div class="meta-item">
          <i class="fas fa-user"></i>
          <span data-i18n="role">Rol: Game Developer</span>
        </div>
        <div class="meta-item">
          <i class="fas fa-calendar"></i>
          <span data-i18n="year2025">2025</span>
        </div>
        <div class="meta-item">
          <i class="fas fa-gamepad"></i>
          <span data-i18n="mobileGame">Hyper Casual</span>
        </div>
      </div>
    </div>

    <div class="project-gallery">
      <div class="gallery-container">
        <!-- Left Column: Game -->
        <div class="gallery-left">
          <h3 data-i18n="playGame">Oyunu Oyna</h3>
          <div class="game-container">
			<iframe frameborder="0" src="https://itch.io/embed-upload/14660685?color=333333" allowfullscreen="" ><a href="https://duhanayan.itch.io/stick-it">Play Stick It on itch.io</a></iframe>
          </div>
        </div>
        
        <!-- Divider -->
        <div class="gallery-divider"></div>
        
        <!-- Right Column: Screenshots -->
        <div class="gallery-right">
          <h3 data-i18n="screenshots">Ekran Görüntüleri</h3>
          
          <!-- Main Gallery Display -->
          <div class="gallery-main">
            <div class="main-image-container" id="mainImageContainer">
              <img id="mainImage" src="../assets/images/stack/stack_inGame.png" alt="Stack Gameplay Video" style="display: none;">
              <video id="mainVideo" loop>
                <source src="../assets/images/stack/stack_gameplay.mp4" type="video/mp4">
                <span data-i18n="videoNotSupported">Tarayıcınız video oynatmayı desteklemiyor.</span>
              </video>
              <button class="mute-button" id="muteButton" style="display: none;">
                <i class="fas fa-volume-up"></i>
              </button>
              <button class="play-button hidden" id="playButton">
                <i class="fas fa-play"></i>
              </button>
              <div class="image-overlay">
                <span id="mainCaption" data-i18n="gameplayVideo">Oynanış Videosu</span>
              </div>
            </div>
          </div>
          
          <!-- Thumbnail Gallery -->
          <div class="gallery-thumbnails">
            <div class="thumbnail-item active" data-type="video" data-src="../assets/images/stick-it/Stick-It_Gameplay.mp4" data-caption="gameplayVideo" data-poster="../assets/images/stick-it/Stick-It_Gameplay.gif">
              <img src="../assets/images/stick-it/Stick-It_Gameplay.gif" alt="Stick It Gameplay Video">
              <div class="thumbnail-overlay">
                <i class="fas fa-play"></i>
              </div>
            </div>
            
            <div class="thumbnail-item" data-type="image" data-src="../assets/images/stick-it/Stick-It_Main_Menu.jpg" data-caption="mainMenu">
              <img src="../assets/images/stick-it/Stick-It_Main_Menu.jpg" alt="Stick It Ana Menü">
              <div class="thumbnail-overlay">
                <i class="fas fa-image"></i>
              </div>
            </div>
            
            <div class="thumbnail-item" data-type="image" data-src="../assets/images/stick-it/Stick-It_Ingame_1.jpg" data-caption="inGame">
              <img src="../assets/images/stick-it/Stick-It_Ingame_1.jpg" alt="Stick It Oyun İçi">
              <div class="thumbnail-overlay">
                <i class="fas fa-image"></i>
              </div>
            </div>

            <div class="thumbnail-item" data-type="image" data-src="../assets/images/stick-it/Stick-It_Ingame_2.jpg" data-caption="inGame">
              <img src="../assets/images/stick-it/Stick-It_Ingame_2.jpg" alt="Stick It Oyun İçi">
              <div class="thumbnail-overlay">
                <i class="fas fa-image"></i>
              </div>
            </div>

            <div class="thumbnail-item" data-type="image" data-src="../assets/images/stick-it/Stick-It_Ingame_3.jpg" data-caption="inGame">
              <img src="../assets/images/stick-it/Stick-It_Ingame_3.jpg" alt="Stick It Oyun İçi">
              <div class="thumbnail-overlay">
                <i class="fas fa-image"></i>
              </div>
            </div>
            
            <div class="thumbnail-item" data-type="image" data-src="../assets/images/stick-it/Stick-It_Ingame_4.jpg" data-caption="inGame">
              <img src="../assets/images/stick-it/Stick-It_Ingame_4.jpg" alt="Stick It Oyun İçi">
              <div class="thumbnail-overlay">
                <i class="fas fa-image"></i>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="project-actions">
      <a href="https://github.com/duhanayan/stack-game" target="_blank" rel="noopener noreferrer" class="github-button">
        <i class="fab fa-github"></i>
        <span data-i18n="viewSource">Kaynak Kodu Görüntüle</span>
      </a>
    </div>

    <div class="project-section">
      <h3 data-i18n="projectOverview">Proje Genel Bakış</h3>
      <p data-i18n="stackOverview">Stack, popüler mobil oyun Stack'ın klon versiyonudur. Unity ile geliştirilen bu proje, oyuncuların blokları üst üste dizerek yüksek kuleler inşa etmelerini sağlar. Oyun, basit ama bağımlılık yapıcı mekaniklerle oyuncuları uzun süre oyunda tutmayı hedefler.</p>
    </div>

    <div class="project-section">
      <h3 data-i18n="myRole">Rolüm ve Sorumluluklar</h3>
      <div class="role-cards">
        <div class="role-card">
          <div class="role-card-header">
            <i class="fas fa-gamepad"></i>
            <h4 data-i18n="gameMechanics">Oyun Mekanikleri & Fizik</h4>
          </div>
          <div class="bullet-points">
            <div class="bullet-point-icon">
              <i class="fas fa-bullseye"></i>
              <div class="bullet-point-icon-content" data-i18n="stackRole1">Mükemmel vuruş sistemi (0.05f tolerans) geliştirdim ve değişken X/Z hareketi ile dilim kesme algoritması tasarladım.</div>
            </div>
            <div class="bullet-point-icon">
              <i class="fas fa-cube"></i>
              <div class="bullet-point-icon-content" data-i18n="stackRole1">Unity Rigidbody, BoxCollider ve sürekli çarpışma algılama ile gerçekçi fizik simülasyonu oluşturdum.</div>
            </div>
          </div>
        </div>
        
        <div class="role-card">
          <div class="role-card-header">
            <i class="fas fa-mobile-alt"></i>
            <h4 data-i18n="mobileOptimization">Performans Optimizasyonu</h4>
          </div>
          <div class="bullet-points">
            <div class="bullet-point-icon">
              <i class="fas fa-layer-group"></i>
              <div class="bullet-point-icon-content" data-i18n="stackRole4">Nesne havuzlama ile sıfıra yakın Instantiate sistemi kurarak, manuel bellek yönetimi (Çöp Toplayıcı) gerçekleştirdim.</div>
            </div>
            <div class="bullet-point-icon">
              <i class="fas fa-tachometer-alt"></i>
              <div class="bullet-point-icon-content" data-i18n="stackRole4">CPU ani artışlarını %70 azaltarak, maksimum 60 FPS hedefi ile platformlar arası performans sağladım.</div>
            </div>
          </div>
        </div>
        
        <div class="role-card">
          <div class="role-card-header">
            <i class="fas fa-palette"></i>
            <h4 data-i18n="uiuxDesign">UI/UX & Görsel Sistem</h4>
          </div>
          <div class="bullet-points">
            <div class="bullet-point-icon">
              <i class="fas fa-font"></i>
              <div class="bullet-point-icon-content" data-i18n="stackRole2">TextMeshPro ile modern arayüz tasarladım ve DOTween animasyonları (solma, hareket geçişleri) ekledim.</div>
            </div>
            <div class="bullet-point-icon">
              <i class="fas fa-fill-drip"></i>
              <div class="bullet-point-icon-content" data-i18n="stackRole2">HSV interpolasyonu ile arka plan ve dilim renk senkronizasyonu sağlayarak sürükleyici görsel deneyim oluşturdum.</div>
            </div>
          </div>
        </div>
        
        <div class="role-card">
          <div class="role-card-header">
            <i class="fas fa-trophy"></i>
            <h4 data-i18n="scoringSystem">Skor & Motivasyon Sistemi</h4>
          </div>
          <div class="bullet-points">
            <div class="bullet-point-icon">
              <i class="fas fa-star"></i>
              <div class="bullet-point-icon-content" data-i18n="stackRole3">PlayerPrefs ile yüksek skor kaydetme sistemi kurarak, gerçek zamanlı skor takibi ve yeni rekor algılama sistemi geliştirdim.</div>
            </div>
            <div class="bullet-point-icon">
              <i class="fas fa-volume-up"></i>
              <div class="bullet-point-icon-content" data-i18n="stackRole3">Ses geri bildirimi ve motivasyonel oyun döngüsü ile oyuncu tutma mekanizması oluşturdum.</div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="project-section">
      <h3 data-i18n="technicalDetails">Teknik Yetenekler</h3>
      <div class="tech-cards">
        <div class="tech-card">
          <div class="tech-card-header">
            <i class="fas fa-cogs"></i>
            <h4 data-i18n="developmentPlatform">Unity & C# Geliştirme</h4>
          </div>
          <div class="tech-tags">
            <span class="tech-tag">Unity 6</span>
            <span class="tech-tag">C# 8.0+</span>
            <span class="tech-tag">DOTween</span>
          </div>
          <div class="bullet-points">
            <div class="bullet-point-icon">
              <i class="fas fa-cogs"></i>
              <div class="bullet-point-icon-content" data-i18n="stackTech1">C# ile Unity oyun geliştirme ve nesne yönelimli programlama.</div>
            </div>
            <div class="bullet-point-icon">
              <i class="fas fa-cube"></i>
              <div class="bullet-point-icon-content" data-i18n="stackTech2">Unity 3D fizik motoru, Rigidbody ve Collider sistemleri.</div>
            </div>
            <div class="bullet-point-icon">
              <i class="fas fa-mobile-alt"></i>
              <div class="bullet-point-icon-content" data-i18n="stackTech3">Mobil platform optimizasyonu ve performans yönetimi.</div>
            </div>
            <div class="bullet-point-icon">
              <i class="fas fa-palette"></i>
              <div class="bullet-point-icon-content" data-i18n="stackTech4">UI/UX tasarımı ve animasyon sistemleri (DOTween).</div>
            </div>
          </div>
        </div>
        
        <div class="tech-card">
          <div class="tech-card-header">
            <i class="fas fa-code"></i>
            <h4 data-i18n="architecture">Modüler Mimari & Design Patterns</h4>
          </div>
          <div class="tech-tags">
            <span class="tech-tag">Singleton Pattern</span>
            <span class="tech-tag">Event-Driven</span>
            <span class="tech-tag">Clean Code</span>
            <span class="tech-tag">Extensibility</span>
          </div>
          <div class="bullet-points">
            <div class="bullet-point-icon">
              <i class="fas fa-layer-group"></i>
              <div class="bullet-point-icon-content" data-i18n="stackArch1">Singleton servis katmanı (Ses, Arayüz, Skor) tasarladım ve olay tabanlı iletişim sistemi kurduk.</div>
            </div>
            <div class="bullet-point-icon">
              <i class="fas fa-check-double"></i>
              <div class="bullet-point-icon-content" data-i18n="stackArch2">Yüksek okunabilirlik, Temiz Kod prensipleri ve birim testine uygun metot tasarımı gerçekleştirdim.</div>
            </div>
          </div>
        </div>
        
        <div class="tech-card">
          <div class="tech-card-header">
            <i class="fas fa-mobile"></i>
            <h4 data-i18n="mobileDevelopment">Mobil & Cross-Platform</h4>
          </div>
          <div class="tech-tags">
            <span class="tech-tag">Touch Input</span>
            <span class="tech-tag">Cross-Platform</span>
            <span class="tech-tag">60 FPS Target</span>
            <span class="tech-tag">Responsive Design</span>
          </div>
          <div class="bullet-points">
            <div class="bullet-point-icon">
              <i class="fas fa-hand-pointer"></i>
              <div class="bullet-point-icon-content" data-i18n="stackMobile1">Dokunma girişi optimizasyonu yaparak platformlar arası uyumluluk sağladım.</div>
            </div>
            <div class="bullet-point-icon">
              <i class="fas fa-bolt"></i>
              <div class="bullet-point-icon-content" data-i18n="stackMobile2">60 FPS hedefi ile performans garantisi vererek duyarlı arayüz tasarımı gerçekleştirdim.</div>
            </div>
          </div>
        </div>
        
        <div class="tech-card">
          <div class="tech-card-header">
            <i class="fas fa-memory"></i>
            <h4 data-i18n="memoryManagement">Bellek & Performans Yönetimi</h4>
          </div>
          <div class="tech-tags">
            <span class="tech-tag">Object Pooling</span>
            <span class="tech-tag">Inactive Object Optimization</span>
            <span class="tech-tag">Garbage Collector</span>
            <span class="tech-tag">CPU Optimization</span>
          </div>
          <div class="bullet-points">
            <div class="bullet-point-icon">
              <i class="fas fa-database"></i>
              <div class="bullet-point-icon-content" data-i18n="stackMemory1">500 dilim nesne havuzlama ile bellek sızıntısı önleme sistemi kurduk.</div>
            </div>
            <div class="bullet-point-icon">
              <i class="fas fa-eye-slash"></i>
              <div class="bullet-point-icon-content" data-i18n="stackMemory2">Görünmeyen nesneleri devre dışı bırakarak, manuel çöp toplayıcı ile CPU ani artışlarını %70 azalttım.</div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="project-section">
      <h3 data-i18n="challenges">Problem Çözme & Zorluklar</h3>
      <div class="challenge-cards">
        <div class="challenge-card">
          <div class="challenge-card-header">
            <i class="fas fa-crosshairs"></i>
            <h4 data-i18n="precisionControl">Hassas Oyun Mekanikleri</h4>
          </div>
          <div class="bullet-points">
            <div class="bullet-point-icon">
              <i class="fas fa-bullseye"></i>
              <div class="bullet-point-icon-content" data-i18n="stackChallenge1">Mükemmel vuruş toleransı (0.05f) ile hassas dilim kesme algoritması geliştirmek.</div>
            </div>
            <div class="bullet-point-icon">
              <i class="fas fa-arrows-alt-h"></i>
              <div class="bullet-point-icon-content" data-i18n="stackChallenge2">Değişken X/Z hareket koordinasyonu ve dilim kesme algoritmasının hassas çalışmasını sağladım.</div>
            </div>
          </div>
        </div>
        
        <div class="challenge-card">
          <div class="challenge-card-header">
            <i class="fas fa-tachometer-alt"></i>
            <h4 data-i18n="performanceOptimization">FPS Düşüşleri & Performans</h4>
          </div>
          <div class="bullet-points">
            <div class="bullet-point-icon">
              <i class="fas fa-cut"></i>
              <div class="bullet-point-icon-content" data-i18n="stackChallenge3">Gerçek zamanlı kesme & düşen dilim instantiate işlemlerinin FPS'i etkilemesi sorununu çözdüm.</div>
            </div>
            <div class="bullet-point-icon">
              <i class="fas fa-layer-group"></i>
              <div class="bullet-point-icon-content" data-i18n="stackChallenge4">Nesne havuzlama ile CPU ani artışlarını %70 azaltarak, 60 FPS hedefini korudum.</div>
            </div>
          </div>
        </div>
        
        <div class="challenge-card">
          <div class="challenge-card-header">
            <i class="fas fa-camera"></i>
            <h4 data-i18n="cameraSystem">Kamera Takibi & Animasyon</h4>
          </div>
          <div class="bullet-points">
            <div class="bullet-point-icon">
              <i class="fas fa-video"></i>
              <div class="bullet-point-icon-content" data-i18n="stackCamera1">CameraController ile dinamik hedef yüksekliğine yumuşak geçiş animasyonu tasarladım.</div>
            </div>
            <div class="bullet-point-icon">
              <i class="fas fa-wave-square"></i>
              <div class="bullet-point-icon-content" data-i18n="stackCamera2">DOTween ile 0.48s ease-out-circ animasyonu kullanarak 'ani geçiş' hissini ortadan kaldırdım.</div>
            </div>
          </div>
        </div>
        
        <div class="challenge-card">
          <div class="challenge-card-header">
            <i class="fas fa-palette"></i>
            <h4 data-i18n="colorSynchronization">Renk Senkronizasyonu</h4>
          </div>
          <div class="bullet-points">
            <div class="bullet-point-icon">
              <i class="fas fa-tint"></i>
              <div class="bullet-point-icon-content" data-i18n="stackColor1">Arka plan ve dilim renklerinin uyumsuz geçişlerinden kaçınmak için BackgroundColor sınıfında HSV interpolasyonu kullandım.</div>
            </div>
            <div class="bullet-point-icon">
              <i class="fas fa-palette"></i>
              <div class="bullet-point-icon-content" data-i18n="stackColor2">12 renk paleti ile gradyan geçişler sağladım.</div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="project-section">
      <h3 data-i18n="developmentProcess">Geliştirme Süreci</h3>
      <div class="process-cards">
        <div class="process-card">
          <div class="process-card-header">
            <i class="fas fa-code-branch"></i>
            <h4 data-i18n="versionControl">Versiyon Kontrolü</h4>
          </div>
          <div class="bullet-points">
            <div class="bullet-point-icon">
              <i class="fas fa-code-branch"></i>
              <div class="bullet-point-icon-content" data-i18n="stackProcess1">Git ile özellik-dal yapısında çalışarak, kod bütünlüğünü korudum.</div>
            </div>
            <div class="bullet-point-icon">
              <i class="fas fa-tasks"></i>
              <div class="bullet-point-icon-content" data-i18n="stackProcess2">Proje yönetimi ve versiyon kontrolü ile güvenli geliştirme süreci oluşturdum.</div>
            </div>
          </div>
        </div>
        
        <div class="process-card">
          <div class="process-card-header">
            <i class="fas fa-cogs"></i>
            <h4 data-i18n="codeQuality">Kod Kalitesi</h4>
          </div>
          <div class="bullet-points">
            <div class="bullet-point-icon">
              <i class="fas fa-eye"></i>
              <div class="bullet-point-icon-content" data-i18n="stackProcess3">Yüksek okunabilirlik ve Temiz Kod prensipleri uyguladım.</div>
            </div>
            <div class="bullet-point-icon">
              <i class="fas fa-puzzle-piece"></i>
              <div class="bullet-point-icon-content" data-i18n="stackProcess4">Genişletilebilirlik için arayüzler tasarlayarak, birim testine uygun metot tasarımı ile sürdürülebilir kod yapısı oluşturdum.</div>
            </div>
          </div>
        </div>
        
        <div class="process-card">
          <div class="process-card-header">
            <i class="fas fa-user"></i>
            <h4 data-i18n="soloDevelopment">Tek Kişilik Geliştirme</h4>
          </div>
          <div class="bullet-points">
            <div class="bullet-point-icon">
              <i class="fas fa-user"></i>
              <div class="bullet-point-icon-content" data-i18n="stackProcess5">Tüm proje süreçlerini tek başıma yönettim.</div>
            </div>
            <div class="bullet-point-icon">
              <i class="fas fa-tools"></i>
              <div class="bullet-point-icon-content" data-i18n="stackProcess6">Sistem tasarımından kod yazımına, test ve optimizasyona kadar her aşamayı kendim gerçekleştirdim.</div>
            </div>
          </div>
        </div>
        
        <div class="process-card">
          <div class="process-card-header">
            <i class="fas fa-rocket"></i>
            <h4 data-i18n="projectDelivery">Proje Teslimi</h4>
          </div>
          <div class="bullet-points">
            <div class="bullet-point-icon">
              <i class="fas fa-flag-checkered"></i>
              <div class="bullet-point-icon-content" data-i18n="stackProcess7">2025 yılında başarıyla tamamladım.</div>
            </div>
            <div class="bullet-point-icon">
              <i class="fas fa-smile"></i>
              <div class="bullet-point-icon-content" data-i18n="stackProcess8">Test kullanıcılarından olumlu geri bildirimler aldım, mobil platformlarda sorunsuz performans ve oyuncu memnuniyeti sağladım.</div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="project-section">
      <h3 data-i18n="results">Sonuçlar</h3>
      <p data-i18n="stackResults">Proje başarıyla tamamlandı ve test kullanıcılarından olumlu geri bildirimler aldım. Oyun mekanikleri akıcı çalışıyor ve mobil platformlarda sorunsuz performans gösteriyor. Proje, Unity ile mobil oyun geliştirme konusunda değerli deneyim kazandırdı.</p>
    </div>
  </main>

  <script src="../js/lang-switcher.js"></script>
  <script>
    // Stack page translation handler
    function updateStackTranslations(language) {
      const translations = translations[language];
      
      // Update all elements with data-i18n attribute
      document.querySelectorAll('[data-i18n]').forEach(element => {
        const key = element.getAttribute('data-i18n');
        if (translations[key]) {
          element.textContent = translations[key];
        }
      });
    }
    
    // Listen for language changes
    window.addEventListener('languageChanged', (event) => {
      updateStackTranslations(event.detail.language);
    });
    
    // Initialize translations on page load
    document.addEventListener('DOMContentLoaded', () => {
      const currentLang = getCurrentLanguage();
      updateStackTranslations(currentLang);
    });
    
    // Gallery functionality
    document.addEventListener('DOMContentLoaded', function() {
      const mainImage = document.getElementById('mainImage');
      const mainVideo = document.getElementById('mainVideo');
      const mainCaption = document.getElementById('mainCaption');
      const thumbnails = document.querySelectorAll('.thumbnail-item');
      const muteButton = document.getElementById('muteButton');
      const playButton = document.getElementById('playButton');
      const mainImageContainer = document.getElementById('mainImageContainer');
      
      let currentMediaType = 'image';
      
      // Load mute state from localStorage
      const savedMuteState = localStorage.getItem('videoMuted');
      if (savedMuteState === 'true') {
        mainVideo.muted = true;
        muteButton.classList.add('muted');
        muteButton.innerHTML = '<i class="fas fa-volume-mute"></i>';
      }
      
      // Initialize play button state for video thumbnail
      const activeThumbnail = document.querySelector('.thumbnail-item.active');
      if (activeThumbnail && activeThumbnail.dataset.type === 'video') {
        currentMediaType = 'video';
        mainVideo.style.display = 'block';
        muteButton.style.display = 'flex';
        // Set initial video source
        mainVideo.src = activeThumbnail.dataset.src;
        mainVideo.pause();
        mainVideo.currentTime = 0;
        updatePlayButtonState();
      } else {
        currentMediaType = 'image';
      }
      
      // Function to get translated caption
      function getTranslatedCaption(captionKey) {
        const currentLang = document.querySelector('select').value || 'tr';
        const translations = {
          tr: {
            mainMenu: "Ana Menü Ekranı",
            inGame: "Oyun İçi Ekranı",
            gameOver: "Oyun Sonu Ekranı",
            gameplayVideo: "Oynanış Videosu"
          },
          en: {
            mainMenu: "Main Menu Screen",
            inGame: "In Game Screen",
            gameOver: "Game Over Screen",
            gameplayVideo: "Gameplay Video"
          }
        };
        return translations[currentLang][captionKey] || captionKey;
      }
      
      // Function to update play button state
      function updatePlayButtonState() {
        if (currentMediaType === 'video') {
          if (mainVideo.paused) {
            mainImageContainer.classList.add('video-paused');
            playButton.classList.remove('hidden');
            playButton.innerHTML = '<i class="fas fa-play"></i>';
          } else {
            mainImageContainer.classList.remove('video-paused');
            playButton.classList.add('hidden');
          }
        }
      }
      
      // Mute button functionality
      muteButton.addEventListener('click', function() {
        if (mainVideo.muted) {
          mainVideo.muted = false;
          this.classList.remove('muted');
          this.innerHTML = '<i class="fas fa-volume-up"></i>';
          localStorage.setItem('videoMuted', 'false');
        } else {
          mainVideo.muted = true;
          this.classList.add('muted');
          this.innerHTML = '<i class="fas fa-volume-mute"></i>';
          localStorage.setItem('videoMuted', 'true');
        }
      });
      
      // Play button functionality
      playButton.addEventListener('click', function() {
        if (mainVideo.paused) {
          mainVideo.play();
        } else {
          mainVideo.pause();
        }
      });
      
      // Video click functionality
      mainVideo.addEventListener('click', function() {
        if (this.paused) {
          this.play();
        } else {
          this.pause();
        }
      });
      
      // Video event listeners
      mainVideo.addEventListener('play', updatePlayButtonState);
      mainVideo.addEventListener('pause', updatePlayButtonState);
      mainVideo.addEventListener('ended', updatePlayButtonState);
      mainVideo.addEventListener('loadeddata', updatePlayButtonState);
      
      // Thumbnail click functionality
      thumbnails.forEach(thumbnail => {
        thumbnail.addEventListener('click', function() {
          // Check if this thumbnail is already active
          if (this.classList.contains('active')) {
            return; // Don't do anything if already active
          }
          
          const type = this.dataset.type;
          const src = this.dataset.src;
          const captionKey = this.dataset.caption;
          const poster = this.dataset.poster;
          
          // Stop current video if playing
          if (currentMediaType === 'video' && mainVideo.src) {
            mainVideo.currentTime = 0;
            mainVideo.pause();
          }
          
          // Remove active class from all thumbnails
          thumbnails.forEach(thumb => thumb.classList.remove('active'));
          
          // Add active class to clicked thumbnail
          this.classList.add('active');
          
          // Update main display
          if (type === 'video') {
            mainImage.style.display = 'none';
            mainVideo.style.display = 'block';
            muteButton.style.display = 'flex';
            mainVideo.src = src;
            // Set video to paused state and show play button
            mainVideo.pause();
            mainVideo.currentTime = 0;
            currentMediaType = 'video';
            // Force update play button state after a short delay to ensure video is loaded
            setTimeout(() => {
              updatePlayButtonState();
            }, 100);
          } else {
            mainVideo.style.display = 'none';
            muteButton.style.display = 'none';
            playButton.classList.add('hidden');
            mainImageContainer.classList.remove('video-paused');
            mainImage.style.display = 'block';
            mainImage.src = src;
            currentMediaType = 'image';
          }
          
          // Update caption with translation
          mainCaption.textContent = getTranslatedCaption(captionKey);
        });
      });
      
      // Language change handler
      document.querySelector('select').addEventListener('change', function() {
        // Update main caption if it has a data-i18n attribute
        if (mainCaption.hasAttribute('data-i18n')) {
          const captionKey = mainCaption.getAttribute('data-i18n');
          mainCaption.textContent = getTranslatedCaption(captionKey);
        }
      });
    });
  </script>
</body>
</html> 